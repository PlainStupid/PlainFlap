$(function(){"use strict";var a=new window.Game($(".GameCanvas"));a.start()}),window.Controls=function(){"use strict";var a={32:"space",37:"left",38:"up",39:"right",40:"down"},b=function(){this._didJump=!1,this.keys={},$(window).on("keydown",this._onKeyDown.bind(this)).on("keyup",this._onKeyUp.bind(this))};return b.prototype._onKeyDown=function(b){if(32!==b.keyCode||this.keys.space||(this._didJump=!0),b.keyCode in a){var c=a[b.keyCode];return this.keys[c]=!0,!1}},b.prototype._onKeyUp=function(b){if(b.keyCode in a){var c=a[b.keyCode];return this.keys[c]=!1,!1}},b.prototype.didJump=function(){var a=this._didJump;return this._didJump=!1,a},new b}(),window.Game=function(){"use strict";var a=0,b=0,c=!0,d=function(a){this.el=a,this.player=new window.Player(this.el.find(".Player"),this),this.pipe=new window.Pipe(this.el.find(".Pipe"),this),this.pipe2=new window.Pipe2(this.el.find(".Pipe2"),this),this.Canvas=this.el.find(".Sky"),this.isPlaying=!1,this.skyPos=0,this.onFrame=this.onFrame.bind(this)};return d.prototype.onFrame=function(){if(this.isPlaying){b+=1,c===!0?150===b&&(a+=1,document.getElementById("score").innerHTML=a,b=0,c=!1):123===b&&(a+=1,document.getElementById("score").innerHTML=a,b=0);var d=+new Date/1e3,e=d-this.lastFrame;this.lastFrame=d,this.player.onFrame(e),this.pipe.onFrame(),this.pipe2.onFrame(),window.requestAnimationFrame(this.onFrame)}},d.prototype.start=function(){this.reset(),this.lastFrame=+new Date/1e3,window.requestAnimationFrame(this.onFrame),this.isPlaying=!0,c=!0},d.prototype.reset=function(){b=0,a=0,document.getElementById("sound").volume=1,document.getElementById("score").innerHTML=a,document.getElementById("score").style.visibility="visible",this.player.reset(),this.pipe.reset(),this.pipe2.reset(),c=!0,this.el.find(".Ground").css("-webkit-animation-play-state","running")},d.prototype.gameover=function(){this.isPlaying=!1,document.getElementById("sound").volume=.3,document.getElementById("fail").play();var b=this;this.el.find(".Ground").css("-webkit-animation-play-state","paused");var c=this.el.find(".Scoreboard");document.getElementById("MyScoreboard").innerHTML="Score: "+a,document.getElementById("score").style.visibility="hidden",c.addClass("is-visible").find(".Scoreboard-restart").one("click",function(){c.removeClass("is-visible"),b.start()})},d.prototype.WORLD_WIDTH=102.4,d.prototype.WORLD_HEIGHT=59,d}(),window.Player=function(){"use strict";var a=window.Controls,b=20,c=1,d=30,e=10,f=!1,g=function(a,b){this.el=a,this.game=b,this.pos={x:0,y:0}};return g.prototype.reset=function(){c=1,this.pos.x=d,this.pos.y=e},g.prototype.onFrame=function(b){a.didJump()?(c=-50,this.pos.y+=b*c,this.el.toggleClass("jump",!0),f=f===!0?!1:!0,document.getElementById("bird").play()):(this.el.toggleClass("jump",!1),c+=3,this.pos.y+=b*c),this.checkCollisionWithBounds(),this.el.css("transform","translateZ(0) translate("+this.pos.x+"em, "+this.pos.y+"em)")},g.prototype.checkCollisionWithBounds=function(){return this.pos.y+b>this.game.WORLD_HEIGHT?this.game.gameover():void(this.pos.y<=0&&(this.pos.y=0,c=0))},g}(),window.requestAnimationFrame||(window.requestAnimationFrame=function(){"use strict";return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}()),window.Pipe=function(){"use strict";var a=102.4,b=0,c=0,d=0,e=function(a,b){this.el=a,this.game=b,this.pos={x:0,y:0}};return e.prototype.reset=function(){this.pos.x=a,this.pos.y=b,this.el.css("transform","translateZ(0) translate("+this.pos.x+"em, "+this.pos.y+"em)")},e.prototype.onFrame=function(){c>=d?d++:(this.pos.x-=1,d=0),this.pos.x<=-20&&(this.pos.x=a),this.el.css("transform","translateZ(0) translate("+this.pos.x+"em, "+this.pos.y+"em)")},e}(),window.Pipe2=function(){"use strict";var a=163.6,b=102.4,c=0,d=0,e=0,f=function(a,b){this.el=a,this.game=b,this.pos={x:0,y:0}};return f.prototype.reset=function(){this.pos.x=a,this.pos.y=c,this.el.css("transform","translateZ(0) translate("+this.pos.x+"em, "+this.pos.y+"em)")},f.prototype.onFrame=function(){d>=e?e++:(this.pos.x-=1,e=0),this.pos.x<=-20&&(this.pos.x=b),this.el.css("transform","translateZ(0) translate("+this.pos.x+"em, "+this.pos.y+"em)")},f}();